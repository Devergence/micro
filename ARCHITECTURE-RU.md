## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Äî –¥–µ–º–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç‚Äë–º–∞–≥–∞–∑–∏–Ω–∞ –Ω–∞ –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞—Ö:

- **`shell`** ‚Äî —Ö–æ—Å—Ç‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç :3000). –î–µ—Ä–∂–∏—Ç `BrowserRouter`, –æ–±—â–∏–π `Header`, —Ä–æ—É—Ç–∏–Ω–≥ –∏ –ª–µ–Ω–∏–≤—É—é –∑–∞–≥—Ä—É–∑–∫—É remote‚Äë–º–æ–¥—É–ª–µ–π.
- **`catalog`** ‚Äî remote‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º —Ç–æ–≤–∞—Ä–æ–≤ (–ø–æ—Ä—Ç :3001). –û—Ç–¥–∞—ë—Ç —Å–ø–∏—Å–æ–∫ –∏ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤.
- **`cart`** ‚Äî remote‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∫–æ—Ä–∑–∏–Ω–æ–π (–ø–æ—Ä—Ç :3002). –û—Ç–¥–∞—ë—Ç –≤–∏–¥–∂–µ—Ç –∫–æ—Ä–∑–∏–Ω—ã –≤ —Ö–µ–¥–µ—Ä–µ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–æ—Ä–∑–∏–Ω—ã.
- **`shared-lib`** (`@mfe/shared-lib`) ‚Äî –æ–±—ã—á–Ω—ã–π workspace‚Äë–ø–∞–∫–µ—Ç. –í –Ω—ë–º –æ–ø–∏—Å–∞–Ω—ã **–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã** (—Å–æ–±—ã—Ç–∏—è –∏ —Å—Ç–æ—Ä—ã –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏) –∏ –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–≤–∏–≥–∞—Ü–∏—è).

–í—Å–µ –º–æ–¥—É–ª–∏ –æ–±—â–∞—é—Ç—Å—è **–Ω–µ –Ω–∞–ø—Ä—è–º—É—é –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º**, –∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤ `shared-lib` (Effector‚Äë—Å–æ–±—ã—Ç–∏—è/—Å—Ç–æ—Ä—ã). –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–¥—É–ª–µ–π, –Ω–µ –ª–æ–º–∞—è —Å–æ–≥–ª–∞—à–µ–Ω–∏—è.

---

## –ü–æ—Ç–æ–∫ ‚Ññ1: –ó–∞–≥—Ä—É–∑–∫–∞ shell –∏ –æ–±—â–∞—è –æ–±–≤—è–∑–∫–∞

### 1. –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ shell

- **–§–∞–π–ª**: `packages/shell/src/main.tsx`  
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: —Å–æ–∑–¥–∞—Ç—å Effector‚Äëscope –∏ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä–Ω–µ–≤–æ–π `App` –ø–æ–¥ `Provider`.

–ö–æ–¥:

```12:15:packages/shell/src/main.tsx
const scope = fork();

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <Provider value={scope}>
      <App />
    </Provider>
  </React.StrictMode>
);
```

**–ò–¥–µ—è**: –∫–∞–∂–¥—ã–π –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤–æ—ë–º Effector‚Äëscope. –≠—Ç–æ –¥–∞—ë—Ç –∏–∑–æ–ª—è—Ü–∏—é —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ —É–¥–æ–±–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.

### 2. –ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç shell

- **–§–∞–π–ª**: `packages/shell/src/app/App.tsx`
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**:
  - –ø–æ–¥–Ω—è—Ç—å `BrowserRouter`;
  - –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –æ–±—â–∏–π `Header`;
  - –æ–ø–∏—Å–∞—Ç—å `Routes` –∏ –ª–µ–Ω–∏–≤—É—é –∑–∞–≥—Ä—É–∑–∫—É remote‚Äë–º–æ–¥—É–ª–µ–π (`catalog` –∏ `cart`).

–ö–ª—é—á–µ–≤–æ–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç:

```61:69:packages/shell/src/app/App.tsx
<BrowserRouter>
  {/* Header —Å –≤–∏–¥–∂–µ—Ç–æ–º –∫–æ—Ä–∑–∏–Ω—ã –∏–∑ remote */}
  <Header
    cartWidget={
      <ErrorBoundary fallback={<span style={{ color: '#fff' }}>üõí 0</span>}>
        <Suspense fallback={<span style={{ color: '#fff' }}>üõí ...</span>}>
          <CartWidget />
        </Suspense>
      </ErrorBoundary>
    }
  />
```

- `CartWidget` ‚Äî –ª–µ–Ω–∏–≤–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∏–∑ remote: `lazy(() => import('cart/CartWidget'))`.
- `ProductList` –∏ `CartPage` ‚Äî —Ç–æ–∂–µ remote‚Äë–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–µ –ø–æ —Ä–æ—É—Ç—É.

**–ö–∞–∫ —ç—Ç–æ –æ–±—ä—è—Å–Ω–∏—Ç—å**: shell ‚Äî —ç—Ç–æ ¬´–æ–±–æ–ª–æ—á–∫–∞‚Äë–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä¬ª, –æ–Ω–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞—Ç–∞–ª–æ–≥–∞/–∫–æ—Ä–∑–∏–Ω—ã, –Ω–æ —É–º–µ–µ—Ç –∏—Ö –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å –∏ –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤ —Å–≤–æ—ë –¥–µ—Ä–µ–≤–æ.

### 3. Header

- **–§–∞–π–ª**: `packages/shell/src/app/layout/Header.tsx`
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: –æ–±—â–∏–π –≤–µ—Ä—Ö–Ω–∏–π –±–∞—Ä, —Å—Å—ã–ª–∫–∏ –Ω–∞ `/`, `/catalog`, `/cart` –∏ —Å–ª–æ—Ç –¥–ª—è –≤–∏–¥–∂–µ—Ç–∞ –∫–æ—Ä–∑–∏–Ω—ã.

–§—Ä–∞–≥–º–µ–Ω—Ç:

```21:46:packages/shell/src/app/layout/Header.tsx
<div style={{ display: 'flex', alignItems: 'center', gap: '32px' }}>
  <Link to="/" ...>üè™ MFE Shop</Link>
  <nav ...>
    <Link to="/catalog">–ö–∞—Ç–∞–ª–æ–≥</Link>
    <Link to="/cart">–ö–æ—Ä–∑–∏–Ω–∞</Link>
  </nav>
</div>

<Link to="/cart">
  {cartWidget}
</Link>
```

**–°–º—ã—Å–ª**: —Å–∞–º Header –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –ø—Ä–æ Effector –∏ –º–æ–¥–µ–ª–∏, –æ–Ω –ø—Ä–æ—Å—Ç–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Ç–æ, —á—Ç–æ –µ–º—É –ø–µ—Ä–µ–¥–∞–ª–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–ø `cartWidget` (remote‚Äë–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–∑ `cart`).

### 4. –î–æ–º–∞—à–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ

- **–§–∞–π–ª**: `packages/shell/src/pages/HomePage.tsx`
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: –ø—Ä–æ—Å—Ç–∞—è landing‚Äë—Å—Ç—Ä–∞–Ω–∏—Ü–∞ + —Ç–∞–±–ª–∏—á–∫–∞ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π –∏ –ø–æ—Ä—Ç–æ–≤.  
–≠—Ç–æ —Ö–æ—Ä–æ—à–∏–π –ø—Ä–∏–º–µ—Ä —Ç–æ–≥–æ, –∫–∞–∫ ¬´–≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å¬ª –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è –¥–æ–∫–ª–∞–¥–∞.

---

## –ü–æ—Ç–æ–∫ ‚Ññ2: –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∏ –æ–±—â–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (`shared-lib`)

### 1. –ö–æ–Ω—Ç—Ä–∞–∫—Ç –∫–∞—Ç–∞–ª–æ–≥–∞

- **–§–∞–π–ª**: `packages/shared-lib/src/contracts/catalog.ts`
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: –æ–ø–∏—Å–∞—Ç—å, **–∫–∞–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∫–∞—Ç–∞–ª–æ–≥ –æ—Ç–¥–∞—ë—Ç –Ω–∞—Ä—É–∂—É** –∏ –∫–∞–∫–∏–µ —Å–æ–±—ã—Ç–∏—è –æ–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç.

```3:16:packages/shared-lib/src/contracts/catalog.ts
export interface ProductInfo {
  id: string;
  name: string;
  price: number;
  image: string;
}

// –°–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –∫–∞—Ç–∞–ª–æ–≥ –ü–£–ë–õ–ò–ö–£–ï–¢
export const productAddedToCart = createEvent<ProductInfo>();
export const productViewed = createEvent<string>();

// –°–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –∫–∞—Ç–∞–ª–æ–≥ –ü–†–ò–ù–ò–ú–ê–ï–¢
export const highlightProduct = createEvent<string>();
export const filterByCategory = createEvent<string>();
```

**–í–∞–∂–Ω–æ**: –∑–¥–µ—Å—å –Ω–µ—Ç UI –∏ –Ω–µ—Ç Effector‚Äë—Å—Ç–æ—Ä–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –¢–æ–ª—å–∫–æ ¬´—è–∑—ã–∫ –æ–±—â–µ–Ω–∏—è¬ª –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏.

### 2. –ö–æ–Ω—Ç—Ä–∞–∫—Ç –∫–æ—Ä–∑–∏–Ω—ã

- **–§–∞–π–ª**: `packages/shared-lib/src/contracts/cart.ts`

```5:18:packages/shared-lib/src/contracts/cart.ts
export interface CartSummary {
  count: number;
  total: number;
}

// –ü—É–±–ª–∏—á–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
export const cartUpdated = createEvent<CartSummary>();
export const checkoutCompleted = createEvent<{ orderId: string }>();

// –ü—É–±–ª–∏—á–Ω—ã–π —Å—Ç–æ—Ä (readonly)
export const $cartSummary = createStore<CartSummary>({
  count: 0,
  total: 0,
}).on(cartUpdated, (_, summary) => summary);
```

**–ò–¥–µ—è**: –ª—é–±–æ–π –º–æ–¥—É–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, shell) –º–æ–∂–µ—Ç –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ `$cartSummary`, –Ω–µ –∑–Ω–∞—è, –∫–∞–∫ –≤–Ω—É—Ç—Ä–∏ —É—Å—Ç—Ä–æ–µ–Ω–∞ –∫–æ—Ä–∑–∏–Ω–∞.

### 3. –ù–∞–≤–∏–≥–∞—Ü–∏—è

- **–§–∞–π–ª**: `packages/shared-lib/src/routing/navigation.ts`

```3:6:packages/shared-lib/src/routing/navigation.ts
export const navigateTo = createEvent<{
  path: string;
  params?: Record<string, string>;
}>();
```

–í shell —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ `history.pushState`:

```10:21:packages/shell/src/app/routing.ts
sample({
  clock: navigateTo,
  fn: ({ path, params }) => {
    const url = new URL(path, window.location.origin);
    if (params) {
      Object.entries(params).forEach(([k, v]) =>
        url.searchParams.set(k, v)
      );
    }
    return url.pathname + url.search;
  },
  target: pushHistoryFx,
});
```

**–°–º—ã—Å–ª**: –ª—é–±–æ–π remote –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å `navigateTo({ path: '/cart' })`, –∞ shell —Ä–µ—à–∏—Ç, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥.

## –ü–æ—Ç–æ–∫ ‚Ññ3: –ö–∞—Ç–∞–ª–æ–≥ (remote `catalog`)

### 1. –ú–æ–¥–µ–ª—å –∫–∞—Ç–∞–ª–æ–≥–∞ (`model/index.ts`)

- **–§–∞–π–ª**: `packages/catalog/src/model/index.ts`
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**:
  - –æ–ø–∏—Å–∞—Ç—å —Ç–∏–ø `Product`;
  - —Å–æ–±—ã—Ç–∏—è `pageOpened`, `filtersChanged`, `productSelected`, `searchQueryChanged`;
  - —ç—Ñ—Ñ–µ–∫—Ç `fetchProductsFx`;
  - —Å—Ç–æ—Ä—ã —Å —Ç–æ–≤–∞—Ä–∞–º–∏, —Ñ–∏–ª—å—Ç—Ä–∞–º–∏, –ø–æ–∏—Å–∫–æ–º –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–º —Å–ø–∏—Å–∫–æ–º.

–ö–ª—é—á–µ–≤—ã–µ —á–∞—Å—Ç–∏:

```10:18:packages/catalog/src/model/index.ts
export interface Product {
  id: string;
  name: string;
  price: number;
  description: string;
  image: string;
  category: string;
  rating: number;
}
```

```35:45:packages/catalog/src/model/index.ts
export const fetchProductsFx = createEffect<void, Product[]>(async () => {
  await new Promise((r) => setTimeout(r, 500));
  return [ /* –º–æ–∫‚Äë–¥–∞–Ω–Ω—ã–µ */ ];
});
```

```121:152:packages/catalog/src/model/index.ts
export const $filteredProducts = combine(
  $products,
  $searchQuery,
  $filters,
  (products, query, filters) => {
    let result = products;
    // –ø–æ–∏—Å–∫ –ø–æ —Å—Ç—Ä–æ–∫–µ
    // —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    // —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ü–µ–Ω–µ/—Ä–µ–π—Ç–∏–Ω–≥—É/–∏–º–µ–Ω–∏
    return result;
  }
);
```

–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏:

```157:160:packages/catalog/src/model/index.ts
sample({
  clock: pageOpened,
  target: fetchProductsFx,
});
```

**–ü–∞—Ç—Ç–µ—Ä–Ω**: –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏ –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫–∞ –∂–∏–≤—É—Ç –≤ `model`. UI –ø—Ä–æ—Å—Ç–æ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä—ã –∏ —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç —Å–æ–±—ã—Ç–∏—è.

### 2. –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º (`model/bindings.ts`)

- **–§–∞–π–ª**: `packages/catalog/src/model/bindings.ts`
- **–¢–µ–∫—É—â–∞—è —Ä–æ–ª—å**: —Å–≤—è–∑—ã–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏ `@shared/contracts/catalog` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `productViewed`). –ö–æ–¥ —Å–µ–π—á–∞—Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω; –≥–ª–∞–≤–Ω–æ–µ ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø: **–∑–¥–µ—Å—å –º–æ—Å—Ç –º–µ–∂–¥—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –º–æ–¥–µ–ª—å—é –∏ –æ–±—â–∏–º–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏**.

### 3. –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ (`features/product-list`)

- **–§–∞–π–ª**: `packages/catalog/src/features/product-list/index.tsx`
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**:
  - –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ `useUnit` –Ω–∞ `$filteredProducts`, `$isLoading`, `$error`;
  - –≤—ã–∑–≤–∞—Ç—å `pageOpened` –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏;
  - –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ –∏ —Å–µ—Ç–∫—É –∫–∞—Ä—Ç–æ—á–µ–∫;
  - –ø–æ –∫–Ω–æ–ø–∫–µ ¬´–í –∫–æ—Ä–∑–∏–Ω—É¬ª –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å `productAddedToCart` (–∫–æ–Ω—Ç—Ä–∞–∫—Ç).

–§—Ä–∞–≥–º–µ–Ω—Ç:

```13:20:packages/catalog/src/features/product-list/index.tsx
const { products, isLoading, error, onPageOpened, onSearch } = useUnit({
  products: $filteredProducts,
  isLoading: $isLoading,
  error: $error,
  onPageOpened: pageOpened,
  onSearch: searchQueryChanged,
});
```

–ö–ª–∏–∫ ¬´–í –∫–æ—Ä–∑–∏–Ω—É¬ª:

```65:76:packages/catalog/src/features/product-list/index.tsx
<ProductCard
  key={product.id}
  product={product}
  onAddToCart={() =>
    productAddedToCart({
      id: product.id,
      name: product.name,
      price: product.price,
      image: product.image,
    })
  }
/>
```

### 4. –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ (`features/product-card`)

- **–§–∞–π–ª**: `packages/catalog/src/features/product-card/index.tsx`
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å UI –æ–¥–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏ –∏ –≤—ã–∑–≤–∞—Ç—å `onAddToCart` –ø—Ä–∏ –∫–ª–∏–∫–µ –ø–æ –∫–Ω–æ–ø–∫–µ.

```54:71:packages/catalog/src/features/product-card/index.tsx
<button
  onClick={(e) => {
    e.stopPropagation();
    onAddToCart();
  }}
>
  –í –∫–æ—Ä–∑–∏–Ω—É
</button>
```

### 5. Standalone‚Äë—Ä–µ–∂–∏–º –∫–∞—Ç–∞–ª–æ–≥–∞

- **–§–∞–π–ª**: `packages/catalog/src/main.tsx`
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–æ–µ SPA (–±–µ–∑ shell), –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏/–æ—Ç–ª–∞–¥–∫–∏.

---

## –ü–æ—Ç–æ–∫ ‚Ññ4: –ö–æ—Ä–∑–∏–Ω–∞ (remote `cart`)

### 1. –ú–æ–¥–µ–ª—å –∫–æ—Ä–∑–∏–Ω—ã (`model/index.ts`)

- **–§–∞–π–ª**: `packages/cart/src/model/index.ts`
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**:
  - —Ç–∏–ø `CartItem`;
  - —Å–æ–±—ã—Ç–∏—è `addToCart`, `removeFromCart`, `updateQuantity`, `clearCart`, `checkoutClicked`;
  - —ç—Ñ—Ñ–µ–∫—Ç `checkoutFx`;
  - —Å—Ç–æ—Ä—ã `$cartItems`, `$cartTotal`, `$cartCount`, `$isCheckingOut`, `$lastOrderId`;
  - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ `productAddedToCart` –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è `cartUpdated`.

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞:

```35:46:packages/cart/src/model/index.ts
export const $cartItems = createStore<CartItem[]>([])
  .on(addToCart, (items, newItem) => {
    const existing = items.find((i) => i.productId === newItem.productId);
    if (existing) {
      return items.map((i) =>
        i.productId === newItem.productId
          ? { ...i, quantity: i.quantity + 1 }
          : i
      );
    }
    return [...items, { ...newItem, quantity: 1 }];
  })
```

–†–µ–∞–∫—Ü–∏—è –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç `productAddedToCart`:

```80:89:packages/cart/src/model/index.ts
sample({
  clock: productAddedToCart,
  fn: (product) => ({
    productId: product.id,
    name: product.name,
    price: product.price,
    image: product.image,
  }),
  target: addToCart,
});
```

–ü—É–±–ª–∏–∫–∞—Ü–∏—è `cartUpdated`:

```100:105:packages/cart/src/model/index.ts
sample({
  clock: $cartItems,
  source: { count: $cartCount, total: $cartTotal },
  target: cartUpdated,
});
```

### 2. –°–≤—è–∑–∫–∞ —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏ (`model/bindings.ts`)

- **–§–∞–π–ª**: `packages/cart/src/model/bindings.ts`
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç ¬´–º–æ—Å—Ç–∞¬ª –∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º —á–µ—Ä–µ–∑ `@shared/contracts/*`. –ò–¥–µ—è —Ç–∞ –∂–µ, —á—Ç–æ –∏ —É –∫–∞—Ç–∞–ª–æ–≥–∞: –∑–¥–µ—Å—å –º–µ—Å—Ç–æ –¥–ª—è –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑—ã–≤–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –º–æ–¥–µ–ª—å –∫–æ—Ä–∑–∏–Ω—ã –∏ –æ–±—â–∏–µ —Å–æ–±—ã—Ç–∏—è/—Å—Ç–æ—Ä—ã.

### 3. –í–∏–¥–∂–µ—Ç –∫–æ—Ä–∑–∏–Ω—ã (`features/cart-widget`)

- **–§–∞–π–ª**: `packages/cart/src/features/cart-widget/index.tsx`
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏ —Å—É–º–º—ã —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ header shell.

```5:9:packages/cart/src/features/cart-widget/index.tsx
const { count, total } = useUnit({
  count: $cartCount,
  total: $cartTotal,
});
```

–û–Ω –Ω–µ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/cart` –¥–µ–ª–∞–µ—Ç shell, –æ–±–æ—Ä–∞—á–∏–≤–∞—è –≤–∏–¥–∂–µ—Ç –≤ `<Link>`.

### 4. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ—Ä–∑–∏–Ω—ã (`features/cart-page`)

- **–§–∞–π–ª**: `packages/cart/src/features/cart-page/index.tsx`
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**:
  - –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `$cartItems`;
  - –¥–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–µ–Ω—è—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, —É–¥–∞–ª—è—Ç—å —Ç–æ–≤–∞—Ä—ã, –æ—á–∏—â–∞—Ç—å –∫–æ—Ä–∑–∏–Ω—É;
  - –∑–∞–ø—É—Å—Ç–∏—Ç—å `checkoutClicked` –∏ –ø–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è.

```24:33:packages/cart/src/features/cart-page/index.tsx
const {
  items,
  total,
  isCheckingOut,
  lastOrderId,
  onRemove,
  onUpdateQty,
  onClear,
  onCheckout,
} = useUnit({
  items: $cartItems,
  total: $cartTotal,
  isCheckingOut: $isCheckingOut,
  lastOrderId: $lastOrderId,
  onRemove: removeFromCart,
  onUpdateQty: updateQuantity,
  onClear: clearCart,
  onCheckout: checkoutClicked,
});
```

### 5. Standalone‚Äë—Ä–µ–∂–∏–º –∫–æ—Ä–∑–∏–Ω—ã

- **–§–∞–π–ª**: `packages/cart/src/main.tsx`
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∫–∞—Ç–∞–ª–æ–≥—É: —Å–æ–∑–¥–∞—ë—Ç —Å–≤–æ–π scope, –º–æ–Ω—Ç–∏—Ä—É–µ—Ç `CartPage` –∏ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤ –ø—Ä–æ—Å—Ç–æ–π layout.

---

## –ü–æ—Ç–æ–∫ ‚Ññ5: –ö–∞–∫ –¥–∞–Ω–Ω—ã–µ —Ä–µ–∞–ª—å–Ω–æ ¬´—Ç–µ–∫—É—Ç¬ª (end‚Äëto‚Äëend —Å—Ü–µ–Ω–∞—Ä–∏–π)

–†–∞–∑–±–µ—Ä—ë–º —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π ¬´–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É¬ª —à–∞–≥ –∑–∞ —à–∞–≥–æ–º:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `/catalog` –≤ shell.**
   - Shell —á–µ—Ä–µ–∑ `Route path="/catalog"` –ª–µ–Ω–∏–≤–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç `ProductList` –∏–∑ remote `catalog`.
   - –í–Ω—É—Ç—Ä–∏ `ProductList` –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `pageOpened()`, —á—Ç–æ —á–µ—Ä–µ–∑ `sample` —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç `fetchProductsFx` –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç `$products`.

2. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤.**
   - `ProductList` –±–µ—Ä—ë—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ `$filteredProducts` (–∫–æ—Ç–æ—Ä—ã–π –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç `$products`, —Ñ–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫).
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è `ProductCard` —Å –∫–æ–ª–ª–±–µ–∫–æ–º `onAddToCart`.

3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç ¬´–í –∫–æ—Ä–∑–∏–Ω—É¬ª.**
   - `ProductCard` –≤—ã–∑—ã–≤–∞–µ—Ç `onAddToCart()`.
   - –í `ProductList` —ç—Ç–æ—Ç –∫–æ–ª–ª–±–µ–∫ ‚Äî –≤—ã–∑–æ–≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è:
     `productAddedToCart({ id, name, price, image })`.

4. **–°–æ–±—ã—Ç–∏–µ `productAddedToCart` –ª–æ–≤–∏—Ç –∫–æ—Ä–∑–∏–Ω–∞.**
   - –í `cart` –≤ `model/index.ts` –µ—Å—Ç—å `sample`:
     - `clock: productAddedToCart`
     - `fn` –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç `ProductInfo` –≤ `CartItem` –±–µ–∑ `quantity`
     - `target: addToCart`
   - –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `addToCart`, `on(addToCart, ...)` –≤ `$cartItems` –¥–æ–±–∞–≤–ª—è–µ—Ç/—É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ç–æ–≤–∞—Ä.

5. **–ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Å—É–º–º—ã –∏ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è `cartUpdated`.**
   - `$cartTotal` –∏ `$cartCount` ‚Äî –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –æ—Ç `$cartItems`.
   - –û—Ç–¥–µ–ª—å–Ω—ã–π `sample` —Å `clock: $cartItems` –∏ `source: { count, total }` –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ `cartUpdated`.
   - `$cartSummary` –≤ `shared-lib` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ `cartUpdated`.

6. **Shell –∏ –≤–∏–¥–∂–µ—Ç –ø–æ–ª—É—á–∞—é—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.**
   - –í–∏–¥–∂–µ—Ç –∫–æ—Ä–∑–∏–Ω—ã `CartWidget` –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ `$cartCount` –∏ `$cartTotal` –≤ —Å–≤–æ–µ–π –º–æ–¥–µ–ª–∏ (remote `cart`).
   - –õ—é–±–æ–π –¥—Ä—É–≥–æ–π –º–æ–¥—É–ª—å –º–æ–∂–µ—Ç –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ `$cartSummary` –∏–∑ `@mfe/shared-lib` –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

**–ò—Ç–æ–≥–æ**: –æ–¥–∏–Ω –∫–ª–∏–∫ –≤ UI –∫–∞—Ç–∞–ª–æ–≥–∞ –ø–æ—Ä–æ–∂–¥–∞–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ—Ä–∑–∏–Ω–∞, –∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º –∫–æ—Ä–∑–∏–Ω—ã.

---

## –ö–∞–∫ –ø–∏—Å–∞—Ç—å —Ç–∞–∫–æ–π –∂–µ –∫–æ–¥ –ø–æ —à–∞–≥–∞–º

–ù–∏–∂–µ ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —á–µ–∫‚Äë–ª–∏—Å—Ç, –∫–∞–∫ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –¥–ª—è –Ω–æ–≤–æ–≥–æ –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –Ω–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è.

### –®–∞–≥ 1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤ `shared-lib`

1. –û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:
   - –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª—å –±—É–¥–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å –¥—Ä—É–≥–∏–º?
   - –ö–∞–∫–∏–µ —Å–æ–±—ã—Ç–∏—è –¥—Ä—É–≥–∏–µ –¥–æ–ª–∂–Ω—ã —É–º–µ—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç—å?
2. –í `packages/shared-lib/src/contracts` —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –∏:
   - –æ–ø–∏—à–∏—Ç–µ `interface`/`type` –¥–∞–Ω–Ω—ã—Ö;
   - –æ–ø–∏—à–∏—Ç–µ `createEvent`/`createStore` –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ API.

### –®–∞–≥ 2. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–æ–¥–µ–ª—å –º–æ–¥—É–ª—è

1. –í `packages/<module>/src/model/index.ts`:
   - –∑–∞–≤–æ–¥–∏–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è (`createEvent`), —Å—Ç–æ—Ä—ã (`createStore`), —ç—Ñ—Ñ–µ–∫—Ç—ã (`createEffect`);
   - —Ä–µ–∞–ª–∏–∑—É–µ–º –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫—É —Ç–æ–ª—å–∫–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥–µ–ª–∏;
   - –∏—Å–ø–æ–ª—å–∑—É–µ–º `sample`, —á—Ç–æ–±—ã —Å–≤—è–∑–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã.
2. –ù–∏–∫–∞–∫–æ–≥–æ React –∏ DOM –≤ –º–æ–¥–µ–ª–∏ ‚Äî —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–∞–≤–∏–ª–∞ –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è.

### –®–∞–≥ 3. –°–≤—è–∑–∞—Ç—å –º–æ–¥–µ–ª—å —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏

1. –í `packages/<module>/src/model/bindings.ts`:
   - –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è/—Å—Ç–æ—Ä—ã –∏–∑ `@mfe/shared-lib` –∏–ª–∏ `@shared/contracts/*`;
   - –∏—Å–ø–æ–ª—å–∑—É–µ–º `sample`, —á—Ç–æ–±—ã:
     - **—Å–ª—É—à–∞—Ç—å** –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã ‚Üí –≤—ã–∑—ã–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è;
     - **–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å** –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞—Ä—É–∂—É ‚Üí —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è.
2. –≠—Ç–æ —Å–ª–æ–π‚Äë–∞–¥–∞–ø—Ç–µ—Ä: –æ–Ω –∑–Ω–∞–µ—Ç –∏ –ø—Ä–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –º–æ–¥–µ–ª—å, –∏ –ø—Ä–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã.

### –®–∞–≥ 4. –ù–∞–ø–∏—Å–∞—Ç—å UI‚Äë–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. –í `features/...`:
   - —á–µ—Ä–µ–∑ `useUnit` –±–µ—Ä—ë–º —Å—Ç–æ—Ä—ã/—Å–æ–±—ã—Ç–∏—è –∏–∑ `model`;
   - —Ä–µ–Ω–¥–µ—Ä–∏–º UI, –Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞—è –≤ –Ω–µ–≥–æ —Å–ª–æ–∂–Ω—É—é –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫—É;
   - –ø–æ –∫–ª–∏–∫–∞–º –≤—ã–∑—ã–≤–∞–µ–º **—Å–æ–±—ã—Ç–∏—è –º–æ–¥–µ–ª–∏** –∏–ª–∏ **–∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è**, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ü–µ–Ω–∞—Ä–∏—è.
2. –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞ —Å–≤–æ—é —á–∞—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞: —Å–ø–∏—Å–æ–∫, –∫–∞—Ä—Ç–æ—á–∫–∞, –≤–∏–¥–∂–µ—Ç –∏ —Ç.–¥.

### –®–∞–≥ 5. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ shell —á–µ—Ä–µ–∑ Module Federation

1. –í –∫–æ–Ω—Ñ–∏–≥–µ Vite remote‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`vite.config.ts`) –æ–ø–∏—Å–∞—Ç—å `exposes`.
2. –í shell:
   - –¥–æ–±–∞–≤–∏—Ç—å `lazy(() => import('remote/Component'))`;
   - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `App`/`Header`/—Ä–æ—É—Ç–∞—Ö.

### –®–∞–≥ 6. –ü–æ–∫—Ä—ã—Ç—å –º–æ–¥–µ–ª—å —Ç–µ—Å—Ç–∞–º–∏ (–ø–æ TDD)

1. –ü–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –∫ `model/index.ts` –¥–æ/–≤–º–µ—Å—Ç–µ —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π.
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `fork` –∏ `allSettled` –∏–∑ Effector –¥–ª—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–æ—Ä–æ–≤ –∏ —Å–æ–±—ã—Ç–∏–π (–ø—Ä–∏–º–µ—Ä ‚Äî `cart/src/model/__tests__/cart.test.ts`).

---

## –ö—Ä–∞—Ç–∫–∞—è –º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å

- **shared-lib**: —Å–ª–æ–≤–∞—Ä—å –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª –æ–±—â–µ–Ω–∏—è –º–µ–∂–¥—É –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞–º–∏.
- **model** –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è: —á–∏—Å—Ç–∞—è –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
- **bindings**: –∞–¥–∞–ø—Ç–µ—Ä –º–µ–∂–¥—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –º–æ–¥–µ–ª—å—é –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏.
- **features (React‚Äë–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)**: –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞.
- **shell**: —Ö–æ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–∏—Ä–∞–µ—Ç –≤—Å—ë –≤–º–µ—Å—Ç–µ, —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–æ—É—Ç–∏–Ω–≥–æ–º –∏ –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π remote‚Äë—á–∞—Å—Ç–µ–π.

–ï—Å–ª–∏ –∏–¥—Ç–∏ –ø–æ —ç—Ç–∏–º —à–∞–≥–∞–º –∏ –¥–µ—Ä–∂–∞—Ç—å —ç—Ç—É –º–æ–¥–µ–ª—å –≤ –≥–æ–ª–æ–≤–µ, –º–æ–∂–Ω–æ —É–≤–µ—Ä–µ–Ω–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏/–¥–æ–∫–ª–∞–¥–µ –∏ –ª–µ–≥–∫–æ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –Ω–æ–≤—ã–µ –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã –ø–æ —Ç–æ–º—É –∂–µ –ø–∞—Ç—Ç–µ—Ä–Ω—É.

